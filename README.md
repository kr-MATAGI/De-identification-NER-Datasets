# De-identification-NER-Datasets

## 비식별 개체명 태그 세트
1) PER (Person)
   - 사람 이름, 별명, 캐릭터명, 신화/종교 인물, 가수 그룹명
2) ORG (Organization)
   - 기관, 단체, 기업, 특정 단체를 지칭하는 것
3) NUM (Number)
   - 나이, 재산/소득, 금액/돈, 키, 몸무게, 횟수, 순서/순차적 번호, 전화번호, 우편번호
4) LOC (Location)
   - 국가명, 지역명, 도시명, 대륙
5) POS (Position)
   - 직업, 부서, 직위/직책, 스포츠 포지션, 전공, 학적 상태(졸업/재학), 이직/전직
6) DAT (Date)
   - 기간, 날짜, 생년월일, 달, 년, 계절, 기념일(e.g. 어버이날)
7) HEC (Health Condition)
   - 혈액형, 신체 장애, 장애 등급, 의료 기록, 질병명, 약, 증상/증세
8) INF (Information)
   - 기기 정보(이름, 모델명), 이메일, URL 주소, 
9) EVT (Event)
   - 사건/사고, 축제/행사, 전쟁, 프로젝트 
10) PRI (Prize)
    - 상, 훈장, 수상내역, 자격증, 업적
11) AFW (Artifacts)
    - 창작물, 예술품
12) PIV (Private)
    - 인간 관계 명칭, 결혼 여부, 취미, 종교, 정치 성향, 사상, 별자리

## 비식별화를 위한 데이터를 만드는 과정
   1) \[위키피디아 dump\].xml 파일을 읽는다.  
   데이터셋을 만들 때 사람 및 기업의 이름을 사용할 것이므로 \[\[분류:살아있는 사람\]\], \[\[분류:[가-힣]+ 상장 기업\]\]을 정규표현식으로 사용해  
   사람과 기업의 본문을 가지고 있는 문서만 추출 후 파일로 저장한다.
   2) 추출된 문서에서 개인정보 혹은 개인정보 추출에 도움되는 정보를 포함하고 있는 단락만을 다시 추출하기 위해 <br> 아래의 단어가 단락 제목에 포함된 본문만 추출하여 저장한다.  
      - '사람'에 관련된 문서 : \[생애, 생활, 성장, 가족, 경력\]  
      - '기업'에 관련된 문서 : \[개요, 역사, 사업, 규모, 실적, 인수, 합병, 기본 정보\]
   3) 2번 과정에서 추출된 문서의 본문에서 위키피디아의 형태를 나타내기 위한 문법을 제거하여 텍스트만을 남긴다.
   4) 3번 과정에서 만들어진 텍스트들을 비식별화 목적이 아닌 NER 데이터로 학습한 모델을 통해 output을 만들어 낸다.  
      - 본 프로젝트에서는 Naver NER Challenge (NER)로 학습한 monologgy/koelectra-small 모델을 이용
   5) output에서 사용하지 않을 태그, 'TRM', 'FLD' 등은 제거하고 'CVL'은 직업에 관련된 개체를 가리키는 경우가 많으므로 'POS'(재정의한 개체명 태그)로 변경한다.
   6) 이후 아래 규칙에 따라 output의 개체명 태그를 수정해준다.  
      1) 학과 - POS, 문장에 '전공'이라는 단어가 있고 \[가-힣\]+학과 라는 정규표현식에 부합할 경우 -> B-POS
      2) 학적 상태 - POS, 졸업/재학/전학/휴학/복학/제적 이라는 단어가 있을 경우 -> B-POS
      3) 지병 - HEC, 문장 내에서 '투병' 혹은 '지병' 이라는 단어가 있고 아래의 정규 표현식에 해당하는 경우 -> B-HEC  
         - \[가-힣\]*암
         - \[가-힣\]+증, \[가-힣\]+증세, \[가-힣\]+장애
         - \[가-힣\]+병
      4) 혈액형 - HEC, A형/B형/AB형/O형의 부합되는 단어일 경우 -> B-POS
      5) 종교 - PIV, '종교' 또는 '신자', '신앙' 라는 단어가 있고 \[가-힣\]+교 라는 단어가 등장.
      6) 가족 관계 - PIV, 아래의 규칙에 부합된다면 -> B-PIV  
         - 정규표현식 \[가-힣\]*아버지, \[가-힣\]+머니, \[가-힣\]*아들, \[가-힣\]*딸
         - \[동생, 오빠, 언니, 형, 삼촌, 자녀, 손자, 손녀, 형제, 자매, 남매\]의 단어가 포함
         - 결혼, 이혼, 재혼
      7) output의 결과 중 <<, (, ', " 등의 여는/닫는 괄호 및 특수문자에 'O'태그가 아닌 경우 'O'태그로 변경
      8) 'I'태그 이지만 앞의 단어에서 'B' 태그가 아닌 경우, 'I'태그를 'B'태그로 변경
      9) Tokenize 후 한자가 '\[UNK\]'로 표시된다면 관련된 한자 모두를 제거

## Naver NLP Challenge (NER) / TTA Tag와 차이점
   1. 비식별화 대상에 대한 데이터만 태그명이 분류되있으므로 이후 비식별화를 위한 규칙 기반 시스템을 최소화 할 수 있다.
   2. 학과에 대해 동일한 개체명 태그로 분류한다. (TTA와 Naver NER은 FLD 혹은 ORG로 분류가 된다.)
   3. 도로명 주소에 대해 Naver NER은 AFW로 분류하는 반면, '태종로 727'과 같이 하나의 LOC로 분류한다.
   4. TTA의 경우 가족 관계에서 대해서 CV_REALTION으로 분류되는데 이는 150개의 세분류를 사용할 경우이고, 대분류로 사용하면 CVL이다.  
      본 프로젝트에서는 PIV에 분류 범위를 상대적으로 한정시켜 세분류를 사용하지 않고 사용한다. 
   5. 2남 1녀 처럼 Naver NER로 훈련한 모델에서는 NUM으로 분류하지만 본 프로젝트에서는 PIV로 분류해 학습.
   6. '결혼'과 같은 태그를 PIV로 분류
   7. 정치 성향에 관련된 단어를 PIV
   8. 다른 태그 분류들은 종교를 ORG 태그로 분류하지만 본 프로젝트에서는 개인적인 생활의 일종으로 보고 PIV로 분류
   9. Naver NER의 경우 뇌졸중의 단어를 TRM으로 분류하거나 하지 않을때도 있지만, 본 프로젝트에서는 HEC로 분류
   10. 일반적인 제품을 가리키는 단어에 대해 태깅하지 않음(예: HDD, HDMI, 모니터...), '아이패드 프로'와 같은 모델명이 지정된 경우에만 INF로 분류.  
   (과도한 정보소실을 방지)
   11. 취미에 관련된 단어를 PIV 태그로 Cover  
      - Naver NER의 예: 퀴즈는 <에미네스나, CVL-B>가 즐기는 취미생활 중 <일체다, NUM-B>. -> 퀴즈가 취미로 분류되어야 함.  
      - TTA에는 CV_SPORTS 로 운동 경기에 대한 분류를 하지만 취미에 특정되지는 않는다.
